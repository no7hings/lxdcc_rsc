#
input_ports:
    - input
#
output_ports:
    - output
#
parameters:
    reset:
        widget: button
        value: 'import lxkatana.scripts as ktn_scripts; ktn_scripts.LxCamera(node).set_reset()'
        tool_tip: '...'
    #
    alembic/enable:
      widget: boolean
      value: False
      tool_tip: '...'

    alembic/file:
      widget: file
      value: ''
      tool_tip: 'alembic file'

    alembic/location:
        widget: path
        value: '/root/world/cam/cameras/main'
        tool_tip: 'alembic location'

    alembic/load:
        widget: button
        value: 'import lxkatana.scripts as ktn_scripts; ktn_scripts.LxCamera(node).set_load()'
        tool_tip: '...'
    #
    settings/screen_modify_enable:
        widget: boolean
        value: True
        tool_tip: '...'

    settings/screen_modify_mode:
        widget: enumerate
        value: ['horizontal', 'vertical', 'fill']
        tool_tip: '...'

    settings/frame_offset_enable:
        widget: boolean
        value: True
        tool_tip: '...'

    settings/frame_offset:
        widget: integer
        value: 1000.0
        tool_tip: '...'

    settings/visible_enable:
        widget: boolean
        value: False
        tool_tip: '...'

    settings/visible:
        widget: boolean
        value: 1
        tool_tip: '...'

    cameras/location:
        widget: path
        value: '/root/world/cam/cameras'
        tool_tip: 'location'

    cameras/close_up_enable:
        widget: boolean
        value: True
        tool_tip: '...'

    cameras/upper_body_enable:
        widget: boolean
        value: True
        tool_tip: '...'

    cameras/upper_body_35_enable:
        widget: boolean
        value: False
        tool_tip: '...'

    cameras/upper_body_50_enable:
        widget: boolean
        value: False
        tool_tip: '...'

    cameras/full_body_enable:
        widget: boolean
        value: True
        tool_tip: '...'

    cameras/full_enable:
        widget: boolean
        value: False
        tool_tip: '...'

    cameras/half_enable:
        widget: boolean
        value: False
        tool_tip: '...'

    cameras/add_0_enable:
        widget: boolean
        value: False
        tool_tip: '...'

    cameras/add_1_enable:
        widget: boolean
        value: False
        tool_tip: '...'

    cameras/free_enable:
        widget: boolean
        value: False
        tool_tip: '...'

    cameras/asset_free_enable:
        widget: boolean
        value: False
        tool_tip: '...'

    cameras/shot_enable:
        widget: boolean
        value: False
        tool_tip: '...'

    cameras/shot_free_enable:
        widget: boolean
        value: False
        tool_tip: '...'

    cameras/front_enable:
        widget: boolean
        value: False
        tool_tip: '...'

    cameras/close_up/location:
        widget: path
        value: '/root/world/cam/cameras/main/cam_closeUp/cam_closeUpShape'
        tool_tip: '...'

    cameras/close_up/render_resolution:
        widget: resolution
        value: '2048x2048'
        tool_tip: '...'

    cameras/upper_body/location:
        widget: path
        value: '/root/world/cam/cameras/main/cam_upperbody/cam_upperbodyShape'
        tool_tip: '...'

    cameras/upper_body/render_resolution:
        widget: resolution
        value: '2048x2048'
        tool_tip: '...'

    cameras/upper_body_35/location:
        widget: path
        value: '/root/world/cam/cameras/main/cam_upperbody35/cam_upperbody35Shape'
        tool_tip: '...'

    cameras/upper_body_35/render_resolution:
        widget: resolution
        value: '2048x2048'
        tool_tip: '...'

    cameras/upper_body_50/location:
        widget: path
        value: '/root/world/cam/cameras/main/cam_upperbody50/cam_upperbody50Shape'
        tool_tip: '...'

    cameras/upper_body_50/render_resolution:
        widget: resolution
        value: '2048x2048'
        tool_tip: '...'

    cameras/full_body/location:
        widget: path
        value: '/root/world/cam/cameras/main/cam_fullbody/cam_fullbodyShape'
        tool_tip: '...'

    cameras/full_body/render_resolution:
        widget: resolution
        value: '2048x2048'
        tool_tip: '...'
    # prop
    cameras/full/location:
        widget: path
        value: '/root/world/cam/cameras/sub/cam_full/cam_fullShape'
        tool_tip: '...'

    cameras/full/render_resolution:
        widget: resolution
        value: '2048x2048'
        tool_tip: '...'

    cameras/half/location:
        widget: path
        value: '/root/world/cam/cameras/sub/cam_half/cam_halfShape'
        tool_tip: '...'

    cameras/half/render_resolution:
        widget: resolution
        value: '2048x2048'
        tool_tip: '...'

    cameras/add_0/location:
        widget: path
        value: '/root/world/cam/cameras/sub/cam_add_0/cam_add_0Shape'
        tool_tip: '...'

    cameras/add_0/render_resolution:
        widget: resolution
        value: '2048x2048'
        tool_tip: '...'

    cameras/add_1/location:
        widget: path
        value: '/root/world/cam/cameras/sub/cam_add_1/cam_add_1Shape'
        tool_tip: '...'

    cameras/add_1/render_resolution:
        widget: resolution
        value: '2048x2048'
        tool_tip: '...'
    #
    cameras/free/location:
        widget: path
        value: '/root/world/cam/cameras/cam_free/cam_freeShape'
        tool_tip: '...'

    cameras/free/render_resolution:
        widget: resolution
        value: '2048x2048'
        tool_tip: '...'
    #
    cameras/asset_free/location:
        widget: path
        value: '/root/world/cam/cameras/cam_asset_free/cam_asset_freeShape'
        tool_tip: '...'

    cameras/asset_free/render_resolution:
        widget: resolution
        value: '2048x2048'
        tool_tip: '...'

    # shot
    cameras/shot/location:
        widget: path
        value: '/root/world/geo/cameras/defaultCamera/defaultCameraCenterShape'
        tool_tip: '...'

    cameras/shot/render_resolution:
        widget: resolution
        value: '2048x858'
        tool_tip: '...'

    cameras/shot_free/location:
        widget: path
        value: '/root/world/cam/cameras/cam_shot_free/cam_shot_freeShape'
        tool_tip: '...'

    cameras/shot_free/render_resolution:
        widget: resolution
        value: '2048x858'
        tool_tip: '...'
    #
    cameras/front/location:
        widget: path
        value: '/root/world/cam/cameras/sub/cam_front/cam_frontShape'
        tool_tip: '...'

    cameras/front/render_resolution:
        widget: resolution
        value: '512x512'
        tool_tip: '...'

    cameras/front/fov:
        widget: float
        value: 1.0
        tool_tip: '...'

    cameras/front/translate:
        widget: float3
        value: [ 0, 8, 1000 ]
        tool_tip: '...'

    cameras/front/rotate:
        widget: float3
        value: [ 0, 0, 0 ]
        tool_tip: '...'

    cameras/front/scale:
        widget: float3
        value: [ 1, 1, 1 ]
        tool_tip: '...'

    lynxi_info/type:
        widget: string
        value: 'lx_camera_loader'
        tool_tip: '...'

    lynxi_variants/camera_scheme:
        widget: enumerate
        value: ['character', 'prop']
        tool_tip: '...'

    lynxi_variants/register_variable:
        widget: button
        value: 'import lxkatana.scripts as ktn_scripts; ktn_scripts.LxCamera(node).set_variable_register()'
        tool_tip: '...'

    camera_manager:
        widget: button
        value: ''
        tool_tip: '...'

op_script:
    settings:
        script:
            |-
            local camera = Interface.GetOpArg('user.lynxi_variants.camera')
            local camera_location = Interface.GetOpArg('user.lynxi_variants.camera_location')
            local render_resolution = Interface.GetOpArg('user.lynxi_variants.render_resolution')
            
            Interface.SetAttr(
                'lynxi.variants.camera', camera
            )
            
            Interface.SetAttr(
                'lynxi.settings.camera_location', camera_location
            )
            
            Interface.SetAttr(
                'lynxi.settings.render_resolution', render_resolution
            )
            
            Interface.SetAttr(
                'renderSettings.cameraName', camera_location
            )

        parameters:
            user/lynxi_variants/camera:
                widget: string
                value: ''
                expression:
                    |-
                    self.getNode().getOutputPort("out").getConnectedPorts()[0].getName()
                tool_tip: '...'

            user/lynxi_variants/camera_location:
                widget: string
                value: ''
                expression:
                    |-
                    self.getNode().getParent().getParameter(
                        "cameras.{}.location".format(
                            self.getNode().getParameter("user.lynxi_variants.camera").getValue(0)
                        )
                    ).getValue(0)
                tool_tip: '...'

            user/lynxi_variants/render_resolution:
                widget: string
                value: ''
                expression:
                    |-
                    self.getNode().getParent().getParameter(
                        "cameras.{}.render_resolution".format(
                            self.getNode().getParameter("user.lynxi_variants.camera").getValue(0)
                        )
                    ).getValue(0)
                tool_tip: '...'

